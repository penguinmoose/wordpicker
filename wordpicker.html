<!DOCTYPE HTML>
<html>

<head>
  <meta charset="utf-8">
  <meta name="description" content="Tool for finding words and sentences based on a spelling pattern">
  <meta name="keywords" content="word finder, sentence finder, words, sentences">
  <link rel="stylesheet" href="wordpicker.css">
</head>

<body onload="go(0)">
  <title>word picker</title>
  <div id="heading">word picker</div>
  <div>note: results on this word picker also contains letters that match the requested filter.</div>
  <hr>

  <ul>
    <li class="fancytab" onclick="go(0)">Words</li>
    <li class="fancytab" onclick="go(1)">Sentences</li>
  </ul><br>

  <!--<div class="nav">
       <a class="on" href="#">Words</a>
       <a href="sentence.html">Sentences</a>
     </div>-->

  <div id="0">
    <button type="button" class="collapsible">instuctions</button>
    <div class="content">
      <table>
        <tr>
          <td>any lowercase letter</td>
          <td>=</td>
          <td>letter</td>
        </tr>

        <tr>
          <td>capical C</td>
          <td>=</td>
          <td>any consonants</td>
        </tr>

        <tr>
          <td>capital V</td>
          <td>=</td>
          <td>any vowel</td>
        </tr>

        <tr>
          <td>,</td>
          <td>=</td>
          <td>or</td>
        </tr>

        <tr>
          <td>-</td>
          <td>=</td>
          <td>any number of letter</td>
        </tr>

        <tr>
          <td>[any character with meaning][any number]</td>
          <td>=</td>
          <td>the character before it gets doubled the number of times, but the consecutive characters can be any of the meaning of it, and it is the same</td>
        <tr>
      </table>
    </div>


    <button type="button" class="collapsible">examples</button>

    <div class="content">
      <div class="small-heading">new: any letter, in this case r</div>
      <div>only finds word(s) that's r and just r</div>
      <div>output:</div>
      <div>r</div>
      <hr>
      <div class="small-heading">new: capital V</div>
      <div>finds word(s) that's a vowel</div>
      <div>output:</div>
      <div>a<br>e<br>i<br>o<br>u</div>
      <hr>
      <div class="small-heading">new: capital C</div>
      <div>finds word(s) that's just a consonant</div>
      <div>output:</div>
      <div>b<br>c<br>d<br>f<br>g<br>...</div>
      <hr>
      <div class="small-heading">CVC</div>
      <div>finds word(s) that follow the CVC spelling pattern</div>
      <div>output:</div>
      <div>for<br>not<br>new<br>was<br>can<br>...</div>
      <hr>
      <div class="small-heading">new: - (dash)</div>
      <div>a dash is usually put in the start or end of an query, indicating<br>that whatever is past the query can be any number of letters.</div>
      <hr>
      <div class="small-heaidng">-CVC-</div>
      <div>finds word(s) that <b>contain</b> the spelling pattern CVC</div>
      <div>results:</div>
      <div>for<br>that<br>this<br>with<br>not<br>...</div>
      <hr>
      <div class="small-heading">new: number</div>
      <div>the character before it gets doubled the number of times, but the<br>consecutive characters can be any of the meaning of it, and it is the same</div>
      <hr>
      <div class="small-heading">CVC2VC</div>
      <div>finds word(s) that have CVCCVC, but the doubble C is the same</div>
      <div>results:</div>
      <div>better<br>seller<br>common<br>called<br>follow<br>letter<br>...</div>
    </div><br>


    <form class="input">
      <textarea type="text" id="req" name="req" placeholder="type requirements for words or sentences here..."></textarea><br>

      <button onclick="startWords();return false;" class="button1">find words</button>
    </form>
    <div id="matched_words"></div>
  </div>


  <div id="1">
    <button type="button" class="collapsible">instuctions</button>
    <div class="content">
      <div>Type any word to find example sentences.</div>
    </div>
    <br>

    <form class="input">
      <textarea type="text" id="reqsentence" name="reqsentence" placeholder="type requirements for sentences here..."></textarea><br>

      <button onclick="startSentences();return false;" class="button1">find sentences</button>
    </form>
    <div id="matched_sentences"></div>
  </div>
  </div>
</body>

<script>
  var plain_results;

  console.log("welcome to word picker");

  function copyToClipboard() {

    var copyText = document.getElementById("myInput");

    copyText.select();
    copyText.setSelectionRange(0, 99999); /*For mobile devices*/

    document.execCommand("copy");

    alert("results coppied!");
  }

  function go(to) {
    document.getElementById('0').style.display = "none";
    document.getElementById('1').style.display = "none";
    document.getElementById(to).style.display = "block";

    var tabs = document.getElementsByClassName("fancytab");
    tabs[0].classList.remove('active');
    tabs[1].classList.remove('active');
    tabs[to].classList.add('active');
  }

  var coll = document.getElementsByClassName("collapsible");

  for (var i = 0; i < coll.length; i++) {
    coll[i].addEventListener("click", function() {
      this.classList.toggle("active");
      var content = this.nextElementSibling;
      if (content.style.display === "block") {
        content.style.display = "none";
      } else {
        content.style.display = "block";
      }
    });
  }


  function changeUrl(site) {
    document.getElementsByName('resultpage')[0].src = site;
  }


  function startWords() {
    var req = (document.getElementById("req").value);
    if (req !== null) {
      var url = "http://127.0.0.1:5000/api/words?pattern=" + req;
      fetch(url)
        .then(function(response) {
          return response.json();
        })
        .then(function(data) {
          appendData(data);
        })
        .catch(function(err) {
          console.log('error: ' + err);
        });

      function appendData(data) {
        var mainContainer = document.getElementById("matched_words");
        mainContainer.innerHTML = "";
        for (var i = 0; i < data.length; i++) {
          var div = document.createElement("div");
          div.innerHTML = data[i];
          mainContainer.appendChild(div);
        }
      }
    } else {
      alert("please type something in the input field.");
    }
  }


  function startSentences() {
    var req = (document.getElementById("reqsentence").value);
    if (req !== null) {
      var url = "http://127.0.0.1:5000/api/sentences?pattern=" + req;
      fetch(url)
        .then(function(response) {
          return response.json();
        })
        .then(function(data) {
          appendData(data);
        })
        .catch(function(err) {
          console.log('error: ' + err);
        });

      function appendData(data) {
        var mainContainer = document.getElementById("matched_sentences");
        mainContainer.innerHTML = "";
        for (var i = 0; i < data.length; i++) {
          var div = document.createElement("div");
          div.innerHTML = data[i];
          mainContainer.appendChild(div);
        }
      }
    } else {
      alert("please type something in the input field.");
    }
  }
</script>

</html>
